<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">

<!DOCTYPE HTML>

<html>
	<head>
		<title>USA Test Cities</title>
		<script type="text/javascript" src="d3.js"></script>
		<script src="d3.min.js"></script>

  		<link rel="stylesheet" href="style.css">

	</head>

	<body>

	<div align = 'center'>
		<h1 align='center'>
			USA Test Cities
		</h1>
		<svg></svg>
	</div>

	<div class="buttonDiv" align = "center">
		<button id="btnAge" class="button" onclick="myFunction(this)" style="background-color: #C8C8C8">Age</button>
		<button id="btnCitizenship" class="button" onclick="myFunction(this)">Citizenship</button>
		<button id="btnIncome" class="button" onclick="myFunction(this)">Income</button>
		<button id="btnEthnicity" class="button" onclick="myFunction(this)">Ethnicity</button>
		<button id="btnHousehold" class="button" onclick="myFunction(this)"># of people per household</button>
		<button id="btnEducation" class="button" onclick="myFunction(this)">Education</button>
	</div>

	<script type="text/javascript" src="TestCityVis.js"></script>
	<script type="text/javascript">
		var boxCount=1;
		var clicked = [{btn:"btnAge", gray:1},{btn:"btnCitizenship", gray:0},{btn:"btnIncome", gray:0}, {btn:"btnEthnicity", gray:0},{btn:"btnHousehold", gray:0},{btn:"btnEducation", gray:0}];

		function myFunction(button) {

			if(window.getComputedStyle(button).getPropertyValue('background-color')!="rgb(132, 131, 152)" && boxCount>1){
			    button.style.background="#848398";
			    boxCount--;
				clicked[clicked.map(function(e) { return e.btn; }).indexOf(button.id)]["gray"]=0;

			}

			else if (window.getComputedStyle(button).getPropertyValue('background-color')=="rgb(132, 131, 152)" && boxCount>=1){
				boxCount++
				button.style.background="#C8C8C8";
				clicked[clicked.map(function(e) { return e.btn; }).indexOf(button.id)]["gray"]=1;

			}

			renderData(clicked, boxCount);
		}
	</script>


	</body>
</html>
